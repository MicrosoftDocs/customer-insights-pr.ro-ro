---
title: Experimente Machine Learning Studio (clasic)
description: Utilizați modele Machine Learning Studio (clasic) în Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 8a861d62bdfee6a3a82468fe1ab4a3fbbdad43d4
ms.sourcegitcommit: 139548f8a2d0f24d54c4a6c404a743eeeb8ef8e0
ms.translationtype: HT
ms.contentlocale: ro-RO
ms.lasthandoff: 02/15/2021
ms.locfileid: "5270219"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="17d3c-103">Utilizați modele bazate pe Azure Machine Learning Studio (clasic)</span><span class="sxs-lookup"><span data-stu-id="17d3c-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="17d3c-104">Datele unificate din Dynamics 365 Customer Insights sunt o sursă pentru construirea de modele de învățare programată care pot genera informații suplimentare despre afaceri.</span><span class="sxs-lookup"><span data-stu-id="17d3c-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="17d3c-105">Customer Insights se integrează cu Machine Learning Studio (clasic) pentru a utiliza propriile dvs. modele particularizate.</span><span class="sxs-lookup"><span data-stu-id="17d3c-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="17d3c-106">Pentru a vedea cum sunt integrate modelele dezvoltate în Azure Machine Learning cu Customer Insights, consultați [Experimente Azure Machine Learning](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="17d3c-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="17d3c-107">Cerințe preliminare</span><span class="sxs-lookup"><span data-stu-id="17d3c-107">Prerequisites</span></span>

- <span data-ttu-id="17d3c-108">Accesați la Customer Insights</span><span class="sxs-lookup"><span data-stu-id="17d3c-108">Access to Customer Insights</span></span>
- <span data-ttu-id="17d3c-109">Abonament activ Azure Enterprise</span><span class="sxs-lookup"><span data-stu-id="17d3c-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="17d3c-110">Profiluri de client unificate</span><span class="sxs-lookup"><span data-stu-id="17d3c-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="17d3c-111">Configurați [Export de entitate în stocarea Azure Blob](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="17d3c-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="17d3c-112">Configurați Machine Learning Studio Clasic</span><span class="sxs-lookup"><span data-stu-id="17d3c-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="17d3c-113">Într-un prim pas, trebuie să creăm un spațiu de lucru pentru și să deschidem Machine Learning Studio (clasic).</span><span class="sxs-lookup"><span data-stu-id="17d3c-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="17d3c-114">Accesați[https://www.portal.azure.com](https://www.portal.azure.com/) și conectați-vă.</span><span class="sxs-lookup"><span data-stu-id="17d3c-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="17d3c-115">Selectați **Creare resursă**.</span><span class="sxs-lookup"><span data-stu-id="17d3c-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="17d3c-116">Căutați **Spațiu de lucru Studio pentru Învățare programată Azure** și selectați **Creați**.</span><span class="sxs-lookup"><span data-stu-id="17d3c-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="17d3c-117">Introduceți detaliile necesare la [creați spațiul de lucru](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="17d3c-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="17d3c-118">Alegeți **Nivelul de preț al planului de servicii web** pe baza cantității de date pe care intenționați să le importați.</span><span class="sxs-lookup"><span data-stu-id="17d3c-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="17d3c-119">Pentru cele mai bune performanțe, selectați **Locația** cea mai apropiată geografic de dvs.</span><span class="sxs-lookup"><span data-stu-id="17d3c-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="17d3c-120">După crearea resursei, va apărea tabloul de bord al spațiului de lucru Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="17d3c-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="17d3c-121">Selectați **Lansați Machine Learning Studio**.</span><span class="sxs-lookup"><span data-stu-id="17d3c-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Interfața de utilizator a Studio pentru Învățare programată Azure](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="17d3c-123">Lucrul cu Studio pentru Învățare programată Azure</span><span class="sxs-lookup"><span data-stu-id="17d3c-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="17d3c-124">Acum puteți crea un experiment nou sau puteți importa un model de experiment existent din galeria de eșantioane.</span><span class="sxs-lookup"><span data-stu-id="17d3c-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="17d3c-125">Există exemple de experimente pentru trei scenarii standard:</span><span class="sxs-lookup"><span data-stu-id="17d3c-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="17d3c-126">Predicția scăderii</span><span class="sxs-lookup"><span data-stu-id="17d3c-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="17d3c-127">Valoarea pe viață a clientului</span><span class="sxs-lookup"><span data-stu-id="17d3c-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="17d3c-128">Recomandare produs sau următoarea cea mai bună acțiune</span><span class="sxs-lookup"><span data-stu-id="17d3c-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="17d3c-129">Dacă creați un nou experiment sau utilizați un șablon de experiment din galerie, trebuie să configurați proprietatea **Importați date**.</span><span class="sxs-lookup"><span data-stu-id="17d3c-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="17d3c-130">Utilizați experiența ghidată sau furnizați direct detalii pentru a accesa stocarea Azure Blob care conține datele dvs.</span><span class="sxs-lookup"><span data-stu-id="17d3c-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Experiment cu Studio pentru Învățare programată Azure](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="17d3c-132">Acum puteți construi un canal de procesare personalizată pentru curățarea și preprocesarea datelor, extragerea funcțiilor și instruirea unui model adecvat.</span><span class="sxs-lookup"><span data-stu-id="17d3c-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="17d3c-133">Testați și optimizați performanța modelului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="17d3c-134">Când sunteți mulțumit de calitatea unui model, selectați **Configurați serviciul web** > **Serviciul web predictiv**.</span><span class="sxs-lookup"><span data-stu-id="17d3c-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="17d3c-135">Această opțiune importă modelul instruit și canalul featurizării din experimentul de instruire într-un serviciu predictiv.</span><span class="sxs-lookup"><span data-stu-id="17d3c-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="17d3c-136">Serviciul predictiv poate lua un alt set de date de intrare cu schema folosită în experimentul de instruire pentru a face predicții.</span><span class="sxs-lookup"><span data-stu-id="17d3c-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Configurați un serviciu web predictiv](media/predictive-webservice-control.png)

1. <span data-ttu-id="17d3c-138">După ce experimentul de servicii web predictiv are succes, îl puteți implementa pentru planificarea automată.</span><span class="sxs-lookup"><span data-stu-id="17d3c-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="17d3c-139">Pentru ca serviciul web să funcționeze cu Customer Insights, selectați **Implementați serviciul Web** > **Previzualizare Implementați serviciul web [Nou]**.</span><span class="sxs-lookup"><span data-stu-id="17d3c-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="17d3c-140">[Aflați mai multe despre implementarea de servicii web](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="17d3c-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Implementați un serviciu web predictiv](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="17d3c-142">Modele de exemple din galerie</span><span class="sxs-lookup"><span data-stu-id="17d3c-142">Sample models from the gallery</span></span>

<span data-ttu-id="17d3c-143">Vom folosi un scenariu fictiv al hotelului Contoso pentru modelele din acest articol.</span><span class="sxs-lookup"><span data-stu-id="17d3c-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="17d3c-144">Hotelul Contoso colectează următoarele date:</span><span class="sxs-lookup"><span data-stu-id="17d3c-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="17d3c-145">Date CRM constând în activitatea de ședere la hotel.</span><span class="sxs-lookup"><span data-stu-id="17d3c-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="17d3c-146">Setul de date include informații despre datele de ședere pentru fiecare client înregistrat.</span><span class="sxs-lookup"><span data-stu-id="17d3c-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="17d3c-147">De asemenea, conține informații despre rezervare, tipuri de cameră, detalii despre cheltuieli și așa mai departe.</span><span class="sxs-lookup"><span data-stu-id="17d3c-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="17d3c-148">Datele se întind pe patru ani, din ianuarie 2014 până în ianuarie 2018.</span><span class="sxs-lookup"><span data-stu-id="17d3c-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="17d3c-149">Profilele clienților oaspeților hotelului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="17d3c-150">Aceste profiluri conțin informații despre fiecare client, inclusiv numele, data nașterii, adresa poștală, sexul și numărul de telefon.</span><span class="sxs-lookup"><span data-stu-id="17d3c-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="17d3c-151">Utilizarea serviciilor oferite de hotel, cum ar fi spa, spălătorie, WiFi sau curier.</span><span class="sxs-lookup"><span data-stu-id="17d3c-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="17d3c-152">Aceste informații sunt înregistrate pentru fiecare client înregistrat.</span><span class="sxs-lookup"><span data-stu-id="17d3c-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="17d3c-153">De obicei, utilizarea serviciilor este legată de ședere.</span><span class="sxs-lookup"><span data-stu-id="17d3c-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="17d3c-154">În unele cazuri, serviciile pot fi utilizate de clienți fără a sta la hotel.</span><span class="sxs-lookup"><span data-stu-id="17d3c-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="17d3c-155">Analiza scăderii</span><span class="sxs-lookup"><span data-stu-id="17d3c-155">Churn Analysis</span></span>

<span data-ttu-id="17d3c-156">Analiza scăderii se aplică diferitelor domenii de afaceri.</span><span class="sxs-lookup"><span data-stu-id="17d3c-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="17d3c-157">În acest exemplu, vom analiza schimbul de servicii, în special în contextul serviciilor hoteliere descrise mai sus.</span><span class="sxs-lookup"><span data-stu-id="17d3c-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="17d3c-158">Oferă un exemplu de lucru al unui canal complet, care poate fi folosit ca punct de plecare pentru orice alt tip de model al scăderii.</span><span class="sxs-lookup"><span data-stu-id="17d3c-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="17d3c-159">Definiția scăderii</span><span class="sxs-lookup"><span data-stu-id="17d3c-159">Definition of Churn</span></span>

<span data-ttu-id="17d3c-160">Definiția scăderii poate diferi în funcție de scenariu.</span><span class="sxs-lookup"><span data-stu-id="17d3c-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="17d3c-161">În acest exemplu, un oaspete care nu a vizitat hotelul în ultimul an ar trebui să fie etichetat ca fiind redus.</span><span class="sxs-lookup"><span data-stu-id="17d3c-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="17d3c-162">Modelul de experiment poate fi importat din galerie.</span><span class="sxs-lookup"><span data-stu-id="17d3c-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="17d3c-163">În primul rând, asigurați-vă că importați datele pentru **Activitate de ședere la hotel**, **Date despre consumator**, și **Date de utilizare a serviciului** din stocarea Azure Blob.</span><span class="sxs-lookup"><span data-stu-id="17d3c-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Importați datele pentru modelul de redus](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="17d3c-165">Featizarea</span><span class="sxs-lookup"><span data-stu-id="17d3c-165">Featurization</span></span>

<span data-ttu-id="17d3c-166">Pe baza definiției scăderii, identificăm mai întâi caracteristicile brute care vor influența eticheta.</span><span class="sxs-lookup"><span data-stu-id="17d3c-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="17d3c-167">Apoi, procesăm aceste caracteristici brute în caracteristici numerice care pot fi utilizate cu modele de învățare programată.</span><span class="sxs-lookup"><span data-stu-id="17d3c-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="17d3c-168">Integrarea datelor are loc în Customer Insights, astfel încât să putem alătura aceste tabele folosind *ID client*.</span><span class="sxs-lookup"><span data-stu-id="17d3c-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Alăturați-vă datele importate](media/join-imported-data.png)

<span data-ttu-id="17d3c-170">Crearea de caracteristici pentru construirea modelului pentru analiza puterii poate fi un pic dificilă.</span><span class="sxs-lookup"><span data-stu-id="17d3c-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="17d3c-171">Datele sunt o funcție de timp, iar noua activitate hotelieră este înregistrată zilnic.</span><span class="sxs-lookup"><span data-stu-id="17d3c-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="17d3c-172">În timpul featurizării, dorim să generăm caracteristici statice din datele dinamice.</span><span class="sxs-lookup"><span data-stu-id="17d3c-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="17d3c-173">În acest caz, generăm multiple caracteristici din activitatea hotelului cu o fereastră glisantă de un an.</span><span class="sxs-lookup"><span data-stu-id="17d3c-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="17d3c-174">De asemenea, extindem caracteristicile în funcție de categorie, cum ar fi tipul camerei sau tipul de rezervare, în funcții separate, utilizând o codare unică.</span><span class="sxs-lookup"><span data-stu-id="17d3c-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="17d3c-175">Lista finală de caracteristici:</span><span class="sxs-lookup"><span data-stu-id="17d3c-175">Final list of features:</span></span>

| <span data-ttu-id="17d3c-176">**Număr**</span><span class="sxs-lookup"><span data-stu-id="17d3c-176">**Number**</span></span>  | <span data-ttu-id="17d3c-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="17d3c-177">**Original_Column**</span></span>          | <span data-ttu-id="17d3c-178">**Caracteristici derivate**</span><span class="sxs-lookup"><span data-stu-id="17d3c-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="17d3c-179">1</span><span class="sxs-lookup"><span data-stu-id="17d3c-179">1</span></span>           | <span data-ttu-id="17d3c-180">Tipul camerei</span><span class="sxs-lookup"><span data-stu-id="17d3c-180">Room Type</span></span>                    | <span data-ttu-id="17d3c-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="17d3c-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="17d3c-182">2</span><span class="sxs-lookup"><span data-stu-id="17d3c-182">2</span></span>           | <span data-ttu-id="17d3c-183">Tip de rezervare</span><span class="sxs-lookup"><span data-stu-id="17d3c-183">Booking Type</span></span>                 | <span data-ttu-id="17d3c-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="17d3c-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="17d3c-185">3</span><span class="sxs-lookup"><span data-stu-id="17d3c-185">3</span></span>           | <span data-ttu-id="17d3c-186">Categoria de călătorie</span><span class="sxs-lookup"><span data-stu-id="17d3c-186">Travel Category</span></span>              | <span data-ttu-id="17d3c-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="17d3c-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="17d3c-188">4</span><span class="sxs-lookup"><span data-stu-id="17d3c-188">4</span></span>           | <span data-ttu-id="17d3c-189">Dolari cheltuiți</span><span class="sxs-lookup"><span data-stu-id="17d3c-189">Dollars Spent</span></span>                | <span data-ttu-id="17d3c-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="17d3c-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="17d3c-191">5</span><span class="sxs-lookup"><span data-stu-id="17d3c-191">5</span></span>           | <span data-ttu-id="17d3c-192">Date de Arhivare și Finalizare</span><span class="sxs-lookup"><span data-stu-id="17d3c-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="17d3c-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="17d3c-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="17d3c-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="17d3c-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="17d3c-195">6</span><span class="sxs-lookup"><span data-stu-id="17d3c-195">6</span></span>           | <span data-ttu-id="17d3c-196">Utilizare serviciu</span><span class="sxs-lookup"><span data-stu-id="17d3c-196">Service Usage</span></span>                | <span data-ttu-id="17d3c-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="17d3c-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="17d3c-198">Selectare model</span><span class="sxs-lookup"><span data-stu-id="17d3c-198">Model selection</span></span>

<span data-ttu-id="17d3c-199">Acum trebuie să alegem algoritmul optim pe care să-l utilizăm.</span><span class="sxs-lookup"><span data-stu-id="17d3c-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="17d3c-200">În acest caz, majoritatea funcțiilor se bazează pe caracteristici în funcție de categorie.</span><span class="sxs-lookup"><span data-stu-id="17d3c-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="17d3c-201">De obicei, modelele bazate pe arbori de decizie funcționează bine.</span><span class="sxs-lookup"><span data-stu-id="17d3c-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="17d3c-202">Dacă există doar caracteristici numerice, rețelele neuronale ar putea fi o alegere mai bună.</span><span class="sxs-lookup"><span data-stu-id="17d3c-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="17d3c-203">Mașina vectorială de asistență (SVM) este, de asemenea, un candidat bun în astfel de situații; cu toate acestea, are nevoie de un pic de ajustare pentru a extrage cele mai bune performanțe.</span><span class="sxs-lookup"><span data-stu-id="17d3c-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="17d3c-204">Noi alegem **Arborele de decizie stimulat de două clase** ca primul model de alegere urmat de **SVM cu două clase** ca al doilea model.</span><span class="sxs-lookup"><span data-stu-id="17d3c-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="17d3c-205">Azure Machine Learning Studio vă permite să faceți teste A/B, așa că este benefic să începeți cu două modele și nu cu unul singur.</span><span class="sxs-lookup"><span data-stu-id="17d3c-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="17d3c-206">Următoarea imagine arată canalul de formare și evaluare a modelului de la Studio pentru Învățare programată Azure:</span><span class="sxs-lookup"><span data-stu-id="17d3c-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Modelul de scădere în Studio pentru Învățare programată Azure](media/azure-machine-learning-model.png)

<span data-ttu-id="17d3c-208">De asemenea, aplicăm o tehnică numită **Importanța caracteristicilor de permutare**, un aspect important al optimizării modelului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="17d3c-209">Modelele încorporate au prea puțin detaliu sau nu au deloc asupra impactului vreunei funcții specifice pe predicția finală.</span><span class="sxs-lookup"><span data-stu-id="17d3c-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="17d3c-210">Calculatorul pentru importanța caracteristicilor folosește un algoritm personalizat pentru a calcula influența caracteristicilor individuale asupra rezultatului unui model specific.</span><span class="sxs-lookup"><span data-stu-id="17d3c-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="17d3c-211">Importanța caracteristicii este normalizată între +1 și -1.</span><span class="sxs-lookup"><span data-stu-id="17d3c-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="17d3c-212">O influență negativă înseamnă că caracteristica corespunzătoare are o influență contra-intuitivă asupra rezultatului și ar trebui eliminată din model.</span><span class="sxs-lookup"><span data-stu-id="17d3c-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="17d3c-213">O influență pozitivă indică faptul că caracteristica contribuie puternic la predicție.</span><span class="sxs-lookup"><span data-stu-id="17d3c-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="17d3c-214">Aceste valori nu sunt coeficienți de corelație, deoarece sunt valori diferite.</span><span class="sxs-lookup"><span data-stu-id="17d3c-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="17d3c-215">Pentru mai multe informații, consultați [Importanța caracteristicii de permutare](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="17d3c-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="17d3c-216">Întregul [experiment de scădere este disponibil în Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="17d3c-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="17d3c-217">Predicția valorii pe viață a clientului</span><span class="sxs-lookup"><span data-stu-id="17d3c-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="17d3c-218">Calculul valorii de viață a clientului (CLTV) este una dintre valorile cheie pe care o întreprindere le poate utiliza pentru a-și evalua și segmenta clienții.</span><span class="sxs-lookup"><span data-stu-id="17d3c-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="17d3c-219">Pentru afacerile hoteliere, este esențial să cunoaștem clienții.</span><span class="sxs-lookup"><span data-stu-id="17d3c-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="17d3c-220">De exemplu, înțelegerea factorilor care formează clienți buni este o informație crucială.</span><span class="sxs-lookup"><span data-stu-id="17d3c-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="17d3c-221">Aceasta ajută conducerea hotelului să evalueze care sunt caracteristicile pe care trebuie să se concentreze și să le îmbunătățească pentru a satisface clienții cu plată ridicată.</span><span class="sxs-lookup"><span data-stu-id="17d3c-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="17d3c-222">Aceste decizii pot avea un impact direct asupra vânzărilor și câștigurilor.</span><span class="sxs-lookup"><span data-stu-id="17d3c-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="17d3c-223">Definiție a CLTV</span><span class="sxs-lookup"><span data-stu-id="17d3c-223">Definition of CLTV</span></span>

<span data-ttu-id="17d3c-224">Pentru acest exemplu, definim CLTV-ul unui client ca suma totală în dolari pe care clientul trebuie să o cheltuiască în următoarele 365 de zile.</span><span class="sxs-lookup"><span data-stu-id="17d3c-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="17d3c-225">Vom folosi datele din ultimii trei ani pentru toți clienții pentru a prezice această valoare.</span><span class="sxs-lookup"><span data-stu-id="17d3c-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="17d3c-226">Featizarea</span><span class="sxs-lookup"><span data-stu-id="17d3c-226">Featurization</span></span>

<span data-ttu-id="17d3c-227">În acest caz, featizarea va fi asemănătoare scenariului de transformare.</span><span class="sxs-lookup"><span data-stu-id="17d3c-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="17d3c-228">Cu toate acestea, etichetele și valorile prezise sunt diferite decât cele definite mai sus.</span><span class="sxs-lookup"><span data-stu-id="17d3c-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="17d3c-229">Selectare model</span><span class="sxs-lookup"><span data-stu-id="17d3c-229">Model selection</span></span>

<span data-ttu-id="17d3c-230">Prezicerea CLTV este o problemă de regresie, deoarece valoarea prevăzută este o variabilă continuă evaluată pozitiv.</span><span class="sxs-lookup"><span data-stu-id="17d3c-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="17d3c-231">Pe baza proprietăților caracteristicilor, selectăm **Regresia stimulată a arborelui de decizie** ca un algoritm și **Regresia rețelei neuronale** ca un alt algoritm de formare a modelului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="17d3c-232">Recomandare produs sau următoarea cea mai bună acțiune</span><span class="sxs-lookup"><span data-stu-id="17d3c-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="17d3c-233">Recomandarea produsului într-un scenariu hotelier este interpretată ca recomandând serviciile oferite de către hotel clienților.</span><span class="sxs-lookup"><span data-stu-id="17d3c-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="17d3c-234">Obiectivul este de a alege serviciile adecvate pentru clienți, astfel încât utilizarea acestora să fie maximizată.</span><span class="sxs-lookup"><span data-stu-id="17d3c-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="17d3c-235">Este similar cu recomandările filmelor pentru utilizatorii serviciilor de streaming video.</span><span class="sxs-lookup"><span data-stu-id="17d3c-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="17d3c-236">Recomandarea definiției de produs sau următoarea cea mai bună acțiune</span><span class="sxs-lookup"><span data-stu-id="17d3c-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="17d3c-237">Definim obiectivul ca maximizarea sumei în dolari a utilizării serviciilor oferind cele mai bune servicii potrivind clienții hotelului în funcție de interesul lor.</span><span class="sxs-lookup"><span data-stu-id="17d3c-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="17d3c-238">Featurizarea</span><span class="sxs-lookup"><span data-stu-id="17d3c-238">Featurization</span></span>

<span data-ttu-id="17d3c-239">La fel ca modelul de scădere, ne alăturăm serviciului hotelier ServiceCustomerID cu CustomerID pentru a crea recomandări în mod constant per CustomerID.</span><span class="sxs-lookup"><span data-stu-id="17d3c-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Caracterizarea modelului de recomandare](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="17d3c-241">Datele sunt furnizate de la trei entități diferite și funcțiile sunt derivate din ele.</span><span class="sxs-lookup"><span data-stu-id="17d3c-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="17d3c-242">Featurizarea problemei de recomandare este diferită în comparație cu scenariile de declin sau CLTV.</span><span class="sxs-lookup"><span data-stu-id="17d3c-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="17d3c-243">Modelul de recomandare are nevoie de date de intrare sub forma a trei seturi de caracteristici.</span><span class="sxs-lookup"><span data-stu-id="17d3c-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="17d3c-244">Selectare model</span><span class="sxs-lookup"><span data-stu-id="17d3c-244">Model selection</span></span>

<span data-ttu-id="17d3c-245">Prezicem produse sau servicii folosind algoritmul numit **Recomandare pentru potrivirea de instruiri** pentru a instrui modelul de recomandare.</span><span class="sxs-lookup"><span data-stu-id="17d3c-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Algoritm Recomandări produs](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="17d3c-247">Cele trei porturi de intrare pentru modelul **Recomandare pentru potrivirea de instruiri** preiau datele de utilizare a serviciului de instruire, descrierea clientului (opțional) și descrierea serviciului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="17d3c-248">Există trei moduri diferite de notare a modelului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="17d3c-249">Unul este pentru evaluarea modelului în care se calculează un scor normalizat cu câștiguri cumulative cu reducere (NDCG) pentru a obține punctele clasificate.</span><span class="sxs-lookup"><span data-stu-id="17d3c-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="17d3c-250">În acest experiment, scorul NDCG este 0,97.</span><span class="sxs-lookup"><span data-stu-id="17d3c-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="17d3c-251">Celelalte două opțiuni sunt notarea modelului pe întregul catalog de servicii recomandabil sau punctarea numai pe elementele pe care utilizatorii nu le-au folosit până acum.</span><span class="sxs-lookup"><span data-stu-id="17d3c-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="17d3c-252">Privind mai departe distribuțiile recomandărilor pe întregul catalogul de servicii, observăm că telefonul, WiFi-ul și curierul sunt serviciile de top care trebuie recomandate.</span><span class="sxs-lookup"><span data-stu-id="17d3c-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="17d3c-253">Acest lucru este în concordanță cu ceea ce am găsit din distribuțiile datelor privind consumul de servicii:</span><span class="sxs-lookup"><span data-stu-id="17d3c-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Model de recomandare de ieșire](media/azure-machine-learning-model-output.png)

<span data-ttu-id="17d3c-255">Întregul [experiment de recomandare a produsului poate fi accesat în Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="17d3c-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="17d3c-256">Integrați modele particularizate</span><span class="sxs-lookup"><span data-stu-id="17d3c-256">Integrate custom models</span></span>

<span data-ttu-id="17d3c-257">Pentru a utiliza aceste predicții în Customer Insights, trebuie să **exportați** previziunile împreună cu ID-urile clientului.</span><span class="sxs-lookup"><span data-stu-id="17d3c-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="17d3c-258">[Exportați-le în aceeași locație de stocare Azure Blob](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) către care exportați datele sursă.</span><span class="sxs-lookup"><span data-stu-id="17d3c-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="17d3c-259">Serviciul web predictiv poate fi programat să ruleze în mod regulat și să actualizeze scorurile.</span><span class="sxs-lookup"><span data-stu-id="17d3c-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="17d3c-260">Datele generate de modelul personalizat pot fi utilizate pentru a vă îmbogăți și mai mult datele despre clienți.</span><span class="sxs-lookup"><span data-stu-id="17d3c-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="17d3c-261">Pentru mai multe informații, consultați [Modelele de învățare programată particularizate](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="17d3c-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]